<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
        <title>MADERA - {% block title %}{% endblock %}</title>
        <link rel="icon" href="{{ asset('images/logo.ico') }}" />
        <link rel="stylesheet" href="{{ asset('css/bootstrap.min.css') }}">
        <link rel="stylesheet" href="{{ asset('fonts/fontawesome-all.min.css') }}">
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
        {% block stylesheets %}{% endblock %}
    </head>
    <body id="page-top">
        <div id="wrapper">
            <nav class="navbar navbar-dark align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0">
                <div class="container-fluid d-flex flex-column p-0">
                    <a class="navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0" href="{{ path('accueil') }}">
                        <div class="sidebar-brand-icon">
                            <img src="{{ asset('images/logo-navbar.png') }}" alt="logoNavBar">
                        </div>
                        <div class="sidebar-brand-text mx-3">MADERA</div>
                    </a>
                    <hr class="sidebar-divider my-0">
                    <ul class="nav navbar-nav"   id="accordionSidebar">
                        <li class="nav-item" role="presentation">
                            <a class="nav-link {% if 'accueil' in app.request.get('_route') %}active{% endif %}" href="{{ path('accueil') }}">
                                <i class="fas fa-tachometer-alt"></i>&nbsp;<span>Dashboard</span>
                            </a>
                        </li>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'app_user' in app.request.get('_route') or 'app_register' in app.request.get('_route') or 'account' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('app_users') }}">
                                    <i class="fas fa-users"></i>&nbsp;<span>Utilisateurs</span>
                                </a>
                            {% endif %}
                        </li>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'fournisseur' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('fournisseurs') }}">
                                    <i class="fas fa-building"></i>&nbsp;<span>Fournisseurs</span>
                                </a>
                            {% endif %}
                        </li>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'marge' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('marges') }}">
                                    <i class="fas fa-calculator"></i>&nbsp;<span>Marges</span>
                                </a>
                            {% endif %}
                        </li>
                        <div class="dropdown-divider"></div>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'famille_composant' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('famille_composants') }}">
                                    <i class="fas fa-map-signs"></i>&nbsp;<span>Familles composants</span>
                                </a>
                            {% endif %}
                        </li>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'composants' == app.request.get('_route')
                                    or 'composant_edit' == app.request.get('_route')
                                    or 'composant_add' == app.request.get('_route')
                                %}active{% endif %}"
                                   href="{{ path('composants') }}">
                                    <i class="fas fa-microchip"></i>&nbsp;<span>Composants</span>
                                </a>
                            {% endif %}
                        </li>
                        <div class="dropdown-divider"></div>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'caracteristiques' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('caracteristiques_nature') }}">
                                    <i class="fas fa-bezier-curve"></i>&nbsp;<span>Caractéristiques nature</span>
                                </a>
                            {% endif %}
                        </li>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'unite' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('unites') }}">
                                    <i class="fas fa-broom"></i>&nbsp;<span>Unités nature</span>
                                </a>
                            {% endif %}
                        </li>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'natures' == app.request.get('_route')
                                    or 'nature_add' == app.request.get('_route')
                                    or 'nature_edit' == app.request.get('_route')
                                %}active{% endif %}"
                                   href="{{ path('natures') }}">
                                    <i class="fas fa-air-freshener"></i>&nbsp;<span>Natures</span>
                                </a>
                            {% endif %}
                        </li>
                        <div class="dropdown-divider"></div>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'coupe' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('coupes_de_principe') }}">
                                    <i class="fas fa-cut"></i>&nbsp;<span>Coupes de principe</span>
                                </a>
                            {% endif %}
                        </li>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'cctp' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('cctps') }}">
                                    <i class="fas fa-book-open"></i>&nbsp;<span>CCTP</span>
                                </a>
                            {% endif %}
                        </li>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'module' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('modules') }}">
                                    <i class="fas fa-cubes"></i>&nbsp;<span>Modules</span>
                                </a>
                            {% endif %}
                        </li>
                        <div class="dropdown-divider"></div>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'modele' in app.request.get('_route') %}active{% endif %}" href="{{ path('modeles') }}">
                                    <i class="fas fa-lightbulb"></i>&nbsp;<span>Modèles</span>
                                </a>
                            {% endif %}
                        </li>
                        <div class="dropdown-divider"></div>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'regle' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('regles_calcul') }}">
                                    <i class="fas fa-ruler"></i>&nbsp;<span>Règles de calcul</span>
                                </a>
                            {% endif %}
                        </li>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'conception' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('modes_conception') }}">
                                    <i class="fas fa-highlighter"></i>&nbsp;<span>Modes de conception</span>
                                </a>
                            {% endif %}
                        </li>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'isolant' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('isolants') }}">
                                    <i class="fas fa-home"></i>&nbsp;<span>Isolants</span>
                                </a>
                            {% endif %}
                        </li>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'couverture' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('couvertures') }}">
                                    <i class="fas fa-hockey-puck"></i>&nbsp;<span>Couvertures</span>
                                </a>
                            {% endif %}
                        </li>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'qualite' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('qualites_huisseries') }}">
                                    <i class="fas fa-scroll"></i>&nbsp;<span>Qualités huisseries</span>
                                </a>
                            {% endif %}
                        </li>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'finition' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('finitions_exterieures') }}">
                                    <i class="fas fa-door-open"></i>&nbsp;<span>Finitions Extérieures</span>
                                </a>
                            {% endif %}
                        </li>
                        <li class="nav-item" role="presentation">
                            {% if is_granted('ROLE_ADMIN') %}
                                <a class="nav-link {% if 'gamme' in app.request.get('_route') %}active{% endif %}"
                                   href="{{ path('gammes') }}">
                                    <i class="fas fa-landmark"></i>&nbsp;<span>Gammes</span>
                                </a>
                            {% endif %}
                        </li>
                    </ul>
                    <div class="text-center d-none d-md-inline">
                        <button class="btn rounded-circle border-0" id="sidebarToggle" type="button"></button>
                    </div>
                </div>
            </nav>
            <div class="d-flex flex-column" id="content-wrapper">
                <div id="content">
                    <nav class="navbar navbar-light navbar-expand bg-white shadow mb-4 topbar static-top">
                        <div class="container-fluid">
                            <button class="btn btn-link d-md-none rounded-circle mr-3" id="sidebarToggleTop" type="button">
                                <i class="fas fa-bars"></i>
                            </button>
                            {% if icon is defined %}
                                <i class="fas {{ icon }} fa-2x"></i>&nbsp;
                            {% endif %}
                            {% if iconLabel is defined %}
                                <span class="ml-2 mr-4" style="font-size: 23px">
                                    {{ iconLabel }}
                                </span>
                            {% endif %}
                            <form class="form-inline d-none d-sm-inline-block mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search">
                                <div class="input-group"><input class="bg-light form-control border-0 small" type="text" placeholder="Rechercher ...">
                                    <div class="input-group-append">
                                        <button class="btn btn-primary py-0" type="button">
                                            <i class="fas fa-search"></i>
                                        </button>
                                    </div>
                                </div>
                            </form>
                            <ul class="nav navbar-nav flex-nowrap ml-auto">
                                <li class="nav-item dropdown d-sm-none no-arrow">
                                    <a class="dropdown-toggle nav-link" data-toggle="dropdown" aria-expanded="false" href="#">
                                        <i class="fas fa-search"></i>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right p-3 animated--grow-in" role="menu" aria-labelledby="searchDropdown">
                                        <form class="form-inline mr-auto navbar-search w-100">
                                            <div class="input-group">
                                                <input class="bg-light form-control border-0 small" type="text" placeholder="Search for ...">
                                                <div class="input-group-append">
                                                    <button class="btn btn-primary py-0" type="button">
                                                        <i class="fas fa-search"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </li>
                                <li class="nav-item dropdown no-arrow mx-1" role="presentation">
                                    <div class="nav-item dropdown no-arrow">
                                        <a class="dropdown-toggle nav-link" data-toggle="dropdown" aria-expanded="false" href="#">
                                            <span class="badge badge-danger badge-counter">7+</span><i class="fas fa-bell fa-fw"></i>
                                        </a>
                                        <div class="dropdown-menu dropdown-menu-right dropdown-list dropdown-menu-right animated--grow-in" role="menu">
                                            <h6 class="dropdown-header">alerts center</h6>
                                            <a class="d-flex align-items-center dropdown-item" href="#">
                                                <div class="mr-3">
                                                    <div class="bg-primary icon-circle">
                                                        <i class="fas fa-file-alt text-white"></i>
                                                    </div>
                                                </div>
                                                <div>
                                                    <span class="small text-gray-500">December 12, 2050</span>
                                                    <p>A new monthly report is ready to download!</p>
                                                </div>
                                            </a>
                                            <a class="d-flex align-items-center dropdown-item" href="#">
                                                <div class="mr-3">
                                                    <div class="bg-success icon-circle">
                                                        <i class="fas fa-donate text-white"></i>
                                                    </div>
                                                </div>
                                                <div>
                                                    <span class="small text-gray-500">December 7, 2019</span>
                                                    <p>$290.29 has been deposited into your account!</p>
                                                </div>
                                            </a>
                                            <a class="d-flex align-items-center dropdown-item" href="#">
                                                <div class="mr-3">
                                                    <div class="bg-warning icon-circle">
                                                        <i class="fas fa-exclamation-triangle text-white"></i>
                                                    </div>
                                                </div>
                                                <div>
                                                    <span class="small text-gray-500">December 3, 2019</span>
                                                    <p>Spending Alert: We've noticed unusually high spending for your account.</p>
                                                </div>
                                            </a>
                                            <a class="text-center dropdown-item small text-gray-500" href="#">
                                                Show All Alerts
                                            </a>
                                        </div>
                                    </div>
                                </li>
                                <li class="nav-item dropdown no-arrow mx-1" role="presentation">
                                    <div class="nav-item dropdown no-arrow">
                                        <a class="dropdown-toggle nav-link" data-toggle="dropdown" aria-expanded="false" href="#">
                                            <i class="fas fa-envelope fa-fw"></i><span class="badge badge-danger badge-counter">7</span>
                                        </a>
                                        <div class="dropdown-menu dropdown-menu-right dropdown-list dropdown-menu-right animated--grow-in" role="menu">
                                            <h6 class="dropdown-header">alerts center</h6>
                                            <a class="d-flex align-items-center dropdown-item" href="#">
                                                <div class="dropdown-list-image mr-3">
                                                    <img class="rounded-circle" src="{{ asset('images/avatars/avatar4.jpeg') }}" alt="avatar4">
                                                    <div class="bg-success status-indicator"></div>
                                                </div>
                                                <div class="font-weight-bold">
                                                    <div class="text-truncate">
                                                        <span>Hi there! I am wondering if you can help me with a problem I've been having.</span>
                                                    </div>
                                                    <p class="small text-gray-500 mb-0">Emily Fowler - 58m</p>
                                                </div>
                                            </a>
                                            <a class="d-flex align-items-center dropdown-item" href="#">
                                                <div class="dropdown-list-image mr-3">
                                                    <img class="rounded-circle" src="{{ asset('images/avatars/avatar2.jpeg') }}" alt="avatar2">
                                                    <div class="status-indicator"></div>
                                                </div>
                                                <div class="font-weight-bold">
                                                    <div class="text-truncate">
                                                        <span>I have the photos that you ordered last month!</span>
                                                    </div>
                                                    <p class="small text-gray-500 mb-0">Jae Chun - 1d</p>
                                                </div>
                                            </a>
                                            <a class="d-flex align-items-center dropdown-item" href="#">
                                                <div class="dropdown-list-image mr-3">
                                                    <img class="rounded-circle" src="{{ asset('images/avatars/avatar3.jpeg') }}" alt="avatar3">
                                                    <div class="bg-warning status-indicator"></div>
                                                </div>
                                                <div class="font-weight-bold">
                                                    <div class="text-truncate">
                                                        <span>Last month's report looks great, I am very happy with the progress so far, keep up the good work!</span>
                                                    </div>
                                                    <p class="small text-gray-500 mb-0">Morgan Alvarez - 2d</p>
                                                </div>
                                            </a>
                                            <a class="d-flex align-items-center dropdown-item" href="#">
                                                <div class="dropdown-list-image mr-3">
                                                    <img class="rounded-circle" src="{{ asset('images/avatars/avatar5.jpeg') }}" alt="avatar5">
                                                    <div class="bg-success status-indicator"></div>
                                                </div>
                                                <div class="font-weight-bold">
                                                    <div class="text-truncate">
                                                        <span>Am I a good boy?</span>
                                                    </div>
                                                    <p class="small text-gray-500 mb-0">Chicken the Dog · 2w</p>
                                                </div>
                                            </a>
                                            <a class="text-center dropdown-item small text-gray-500" href="#">
                                                Show All Alerts
                                            </a>
                                        </div>
                                    </div>
                                    <div class="shadow dropdown-list dropdown-menu dropdown-menu-right" aria-labelledby="alertsDropdown"></div>
                                </li>
                                <div class="d-none d-sm-block topbar-divider"></div>
                                <li class="nav-item dropdown no-arrow" role="presentation">
                                    <div class="nav-item dropdown no-arrow">
                                        <a class="dropdown-toggle nav-link" data-toggle="dropdown" aria-expanded="false" href="#">
                                            <span class="d-none d-lg-inline mr-2 text-gray-600 small">
                                                {{ app.user.prenom | capitalize }} {{ app.user.nom | upper }}
                                            </span>
                                            <img class="border rounded-circle img-profile" src="{{ asset('images/avatars/avatar5.jpeg')}}" alt="avatar5">
                                        </a>
                                        <div class="dropdown-menu shadow dropdown-menu-right animated--grow-in" role="menu">
                                            <a class="dropdown-item" role="presentation" href="{{ path('app_account') }}">
                                                <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>&nbsp;Mon profil
                                            </a>
                                            {% if is_granted('ROLE_PREVIOUS_ADMIN') %}
                                                <a class="dropdown-item" role="presentation"  href="{{ path('accueil', {'_switch_user': '_exit'}) }}">
                                                    <i class="fas fa-sync fa-sm fa-fw mr-2 text-gray-400"></i>&nbsp;Retourner Admin
                                                </a>
                                            {% endif %}
                                            {#<a class="dropdown-item" role="presentation" href="#">
                                                <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>&nbsp;Activity log
                                            </a>#}
                                            <div class="dropdown-divider"></div>
                                            <a class="dropdown-item" role="presentation" href="{{ url('app_logout') }}">
                                                <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>&nbsp;Déconnexion
                                            </a>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </nav>
                    <div class="container-fluid">
                        {% for label, messages in app.flashes %}
                            {% for message in messages %}
                                <div aria-live="polite" aria-atomic="true">
                                    <div class="toast" style="position: absolute; top: 0; right: 0;"
                                         data-delay="5000" data-animation="true">
                                        {# use https://getbootstrap.com/docs/4.0/utilities/colors/#background-color for label #}
                                        <div class="toast-header bg-{{ label }} text-white">
                                            <strong class="mr-auto">{{ label | trans }}</strong>
                                            <button type="button" class="ml-2 mb-1 close" data-dismiss="toast"
                                                    aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="toast-body">
                                            {{ message }}
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        {% endfor %}
                        {% block body %}{% endblock %}
                    </div>
                    <footer class="bg-white sticky-footer">
                        <div class="container my-auto">
                            <div class="text-center my-auto copyright">
                                <span>Copyright © MADERA {{ "now" | date("Y") }}</span>
                            </div>
                        </div>
                    </footer>
                </div>
                <a class="border rounded d-inline scroll-to-top" href="#page-top">
                    <i class="fas fa-angle-up"></i>
                </a>
            </div>
        </div>
        <script src="{{ asset('js/jquery.min.js') }}"></script>
        <script src="{{ asset('js/bootstrap.min.js') }}"></script>
        <script src="{{ asset('js/chart.min.js') }}"></script>
        <script src="{{ asset('js/bs-init.js') }}"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.js"></script>
        <script src="{{ asset('js/theme.js') }}"></script>
        <script>
            $('.toast').toast('show');
            $(function () {
                $('[data-toggle="tooltip"]').tooltip();
            });
        </script>
        <!-- https://sweetalert2.github.io/ -->
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
        <!-- Si utilisé n'est pas oublier de mettre la class "confirm" et le "data-to-delete" qui représente le nom du donnée à supprimer -->
        <script src="{{ asset('js/sweetalert.js') }}"></script>

        <!-- Latest compiled and minified JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
        {% block javascripts %}{% endblock %}
    </body>
</html>